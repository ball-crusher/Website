<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ball Crusher – Daily Stats</title>
    <meta
      name="description"
      content="Follow Ball Crusher daily results with a mobile-first experience that showcases winners, full leaderboards, and player trends."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="hero" id="hero" role="banner">
        <div class="hero__container">
          <div class="hero__content">
            <p class="hero__eyebrow">Ball Crusher Daily Stats</p>
            <h1 class="hero__title">Designed purely for my followers.</h1>
            <p class="hero__description">
              Here you can check your daily stats. This is just a pre-release version, so please be patient if you encounter any bugs — we’re working on fixing them soon!
            </p>
          </div>
          <figure class="hero__visual">
            <canvas
              id="statsCanvas"
              width="480"
              height="320"
              aria-label="Animated winner timeline"
            ></canvas>
            <figcaption class="hero__hint">Live winner timeline</figcaption>
          </figure>
        </div>
      </header>

      <nav class="quick-nav" aria-label="Phone navigation">
        <div class="quick-nav__container">
          <button type="button" class="quick-nav__button" data-scroll-target="hero" aria-pressed="true">
            Overview
          </button>
          <button type="button" class="quick-nav__button" data-scroll-target="open-stats">
            Open stats
          </button>
          <button type="button" class="quick-nav__button" data-scroll-target="player-stats">
            Player stats
          </button>
          <button type="button" class="quick-nav__button" data-scroll-target="extra-box">
            Extra box
          </button>
        </div>
      </nav>

      <main class="main" id="content">
        <section id="open-stats" class="panel" aria-labelledby="open-stats-title">
          <div class="panel__header">
            <h2 id="open-stats-title" class="panel__title">Open Stats</h2>
            <span class="panel__subtitle">Tap any day to open a leaderboard</span>
          </div>
          <div id="open-stats-grid" class="card-grid" role="list"></div>
        </section>

        <section id="player-stats" class="panel" aria-labelledby="player-stats-title">
          <div class="panel__header">
            <h2 id="player-stats-title" class="panel__title">Player Stats</h2>
            <span class="panel__subtitle">Search any athlete and auto-scale their daily stats</span>
          </div>
          <div class="search-panel">
            <div class="search-controls">
              <label for="player-search">
                Player name
                <input
                  type="search"
                  id="player-search"
                  name="player-search"
                  placeholder="e.g. player1"
                  autocomplete="off"
                  list="player-suggestions"
                />
                <datalist id="player-suggestions"></datalist>
              </label>
              <label for="sort-field">
                Sort by
                <select id="sort-field" name="sort-field">
                  <option value="day">Day</option>
                  <option value="rank">Rank</option>
                  <option value="time">Time</option>
                </select>
              </label>
              <label for="sort-order">
                Order
                <select id="sort-order" name="sort-order">
                  <option value="asc">Ascending</option>
                  <option value="desc">Descending</option>
                </select>
              </label>
            </div>
            <div id="player-results" class="player-results" aria-live="polite">
              <p class="no-results">Search for a player to see results.</p>
            </div>
          </div>
        </section>

        <section id="extra-box" class="panel" aria-labelledby="extra-box-title">
          <div class="panel__header">
            <h2 id="extra-box-title" class="panel__title">Extra Box</h2>
            <span class="panel__subtitle"
              >Watch a rewarded ad to request an additional box for the latest leaderboard day</span
            >
          </div>

          <!--
            Extra box feature container. The card below holds the rewarded flow, the banner ads,
            and the form that connects to Firebase. Comments describe the required integration steps
            in detail so that the feature can be configured without reverse engineering the JS file.
          -->
          <article class="extra-box-card" aria-live="polite">
            <div class="extra-box-card__ads">
              <!--
                Google Ads banner #1.
                Replace the data-ad-client and data-ad-slot values with your AdSense identifiers.
                The ads are activated programmatically in app.js once the Google Ads script loads.
              -->
              <div class="ads-banner">
                <ins
                  class="adsbygoogle"
                  style="display: block"
                  data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                  data-ad-slot="0000000001"
                  data-ad-format="auto"
                  data-full-width-responsive="true"
                ></ins>
              </div>

              <!--
                Google Ads banner #2 – works the same way as the first banner. Use a dedicated
                slot ID so that both placements can be reported independently in your AdSense UI.
              -->
              <div class="ads-banner ads-banner--secondary">
                <ins
                  class="adsbygoogle"
                  style="display: block"
                  data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                  data-ad-slot="0000000002"
                  data-ad-format="auto"
                  data-full-width-responsive="true"
                ></ins>
              </div>
            </div>

            <form id="extra-box-form" class="extra-box-form" novalidate>
              <div class="extra-box-form__field">
                <label for="extra-box-player">
                  Player name
                  <input
                    type="text"
                    id="extra-box-player"
                    name="extra-box-player"
                    placeholder="e.g. player1"
                    autocomplete="off"
                    list="player-suggestions"
                    required
                  />
                </label>
              </div>

              <!-- Summary row showing the extra box count that comes from Firebase -->
              <div class="extra-box-form__summary" role="status" aria-live="polite">
                <span class="extra-box-form__summary-label"
                  >Extra boxes for Day <span id="extra-box-day-label">—</span>:</span
                >
                <strong id="extra-box-count-value" class="extra-box-form__summary-value">0</strong>
              </div>

              <!--
                Feedback element that displays info, error, and success messages. The JS toggles the
                modifier classes (e.g. extra-box__feedback--success) to style the message properly.
              -->
              <p id="extra-box-feedback" class="extra-box__feedback" hidden></p>

              <button type="submit" id="extra-box-request" class="extra-box-form__button">
                <span class="extra-box-form__button-label">Request box</span>
                <span class="extra-box-form__button-progress" aria-hidden="true">Processing…</span>
              </button>

              <p class="extra-box-form__note">
                You will be asked to watch a rewarded Google ad. After the ad finishes the Firebase
                database is updated and the page reloads to fetch fresh banners.
              </p>
            </form>

            <!--
              Rewarded ad container. Attach your Google Publisher Tag or AdSense rewarded ad
              implementation to the global window.requestExtraBoxAd handler (see the script below)
              so that the JS can tell when the user finished watching an ad.
            -->
            <div id="extra-box-reward-ad" class="extra-box-reward" aria-live="polite"></div>
          </article>
        </section>
      </main>

      <footer class="page__footer">
        Data refreshes daily.
      </footer>
    </div>

    <!--
      Configuration block for the extra box feature.
      1. Replace EXTRA_BOX_FIREBASE_CONFIG with your Firebase project credentials (projectId, apiKey, etc.).
      2. Implement window.requestExtraBoxAd so that it shows a rewarded Google ad and calls onComplete()
         once the reward is granted. See app.js for the expected callback contract.
      3. Update the Google Ads banner slots above with production ad unit IDs.
    -->
    <script>
      window.EXTRA_BOX_FIREBASE_CONFIG = null; // TODO: Paste your Firebase configuration object here.

      // TODO: Implement the rewarded ad logic and call onComplete() after the reward is issued.
      // window.requestExtraBoxAd = ({ container, onComplete, onError }) => {
      //   // Example stub – replace with Google Ad Manager / AdSense rewarded implementation.
      //   onComplete();
      // };
    </script>

    <!-- Google Ads loader. Replace the client ID with your own publisher account identifier. -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
      crossorigin="anonymous"
    ></script>

    <script src="assets/js/app.js" type="module"></script>
  </body>
</html>
